<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>JS LMS exercise</title>
        <link href="../styles/default.css" rel="stylesheet">
    </head>    
    <body>
        <div data-include="../components/header.html"></div>
        <hr>
        <main>
                <h2>JS LMS exercise</h2>
                <section>
                    <h3>Filter By Date</h3>
                    <input type="text" placeholder="mm/dd/yy" id="data_input">
                    <button>Filter By Date</button>
                    <p id="filter_by_data">Result goes here!</p> 
                </section>
                <hr>
                <section>
                    <h3>Filter By Student Id</h3>
                    <input type="text" placeholder="Enter student Id" id="studentId_input">
                    <button onclick="filterByStudentId()">Filter By Student Id</button>
                    <p id="filter_by_data">Result goes here!</p> 
                </section>
                <hr>
                <section>
                    <h3>Find unsubmitted students</h3>
                    <input type="text" placeholder="Enter date" id="unsubmitted">
                    <button onclick="findUnsubmitted">Find Unsubmitted</button>
                    <p id="filter_by_data">Result goes here!</p> 
                </section>
                <hr>
                <section>
                    <h3>Get Average Quiz Score</h3>
                    <input type="text" placeholder="Enter quiz scores" id="score_input">
                    <button onclick="getAverageScore()">Get Average Quiz Score</button>
                    <p id="filter_by_data">Result goes here!</p> 
                </section>

               
        </main>
        <script>
            const testData = [
            {
                quizName: "History 1",
                quizModule: "History",
                quizScore: 70,
                studentId: 1,
                studentName: "Bob Ross",
                submissionDate: "12/20/2020"
            },
            {
                quizName: "History 1",
                quizModule: "History",
                quizScore: 77,
                studentId: 16,
                studentName: "Diana Ross",
                submissionDate: "12/20/2020"
            },
            {
                quizName: "History 1",
                quizModule: "History",
                quizScore: 82,
                studentId: 15,
                studentName: "Steve Smith",
                submissionDate: "12/20/2020"
            },
            {
                quizName: "History 1",
                quizModule: "History",
                quizScore: 88,
                studentId: 14,
                studentName: "Dylan Roberts",
                submissionDate: "12/20/2020"
            },
            {
                quizName: "History 2",
                quizModule: "History",
                quizScore: 82,
                studentId: 1,
                studentName: "Bob Ross",
                submissionDate: "1/20/2021"
            },
            {
                quizName: "History 2",
                quizModule: "History",
                quizScore: 89,
                studentId: 16,
                studentName: "Diana Ross",
                submissionDate: "1/20/2021"
            },

            {
                quizName: "History 2",
                quizModule: "History",
                quizScore: 73,
                studentId: 15,
                studentName: "Steve Smith",
                submissionDate: "1/20/2021"
            },

            {
                quizName: "History 2",
                quizModule: "History",
                quizScore: 85,
                studentId: 15,
                studentName: "Steve Smith",
                submissionDate: "1/20/2021"
            },
            {
                quizName: "Reading Comprehension",
                quizModule: "English",
                quizScore: 60,
                studentId: 15,
                studentName: "Steve Smith",
                submissionDate: "2/20/2020"
            },
            {
                quizName: "Reading Comprehension",
                quizModule: "English",
                quizScore: 83,
                studentId: 16,
                studentName: "Diana Ross",
                submissionDate: "2/20/2020"
            },
            {
                quizName: "Reading Comprehension",
                quizModule: "English",
                quizScore: 70,
                studentId: 14,
                studentName: "Dylan Roberts",
                submissionDate: "2/20/2020"
            }
            ];

//Filter By Date Feature (filterByDate)
//1. Given I have an array of submission objects, when I call the filterByDate function
//with a date and the array of submissions (in that order), then an array of
//submission objects with a submissionDate equal to that date are returned to me,
//so I can see all submissions for a particular date.
//2. Given I have supplied a date and an array of submission objects (in that order),
//when the array is empty, or the filter by date feature does not find any results,
//then I am returned an empty array.
            
            const dataInput=document.getElementById("data_input").value;
            const filterByDate = () => {
                for (const thisTestData of testData) {
                    if (dataInput == thisTestData.submissionDate) {
                      document.getElementById("filter_by_data").innerHTML = 
                      `Quiz name is: ${thisTestData.quizName}.<br>
                       Quiz module is: ${thisTestData.quizModule}.<br>
                        Quiz score is: ${thisTestData.quizScore}.<br>
                        Quiz student ID is: ${thisTestData.studentId}.<br>
                        Quiz student name is: ${thisTestData.studentName}.<br>
                        Submission date is: ${thisTestData.submissionDate}.`
                    } else {
                        document.getElementById("filter_by_data").innerHTML = 'Sorrry, doesn\'t find any result.';
                    }
                }
            }
            document.querySelector('button').addEventListener('click',filterByDate);



        </script>
        <hr>
        <div data-include="../components/footer.html"></div>
        <script src="../scripts/HTMLInclude.min.js"></script>
    </body>
</html>